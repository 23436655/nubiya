<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>注册</title>
</head>
<style>
    #zhuce {
        width: 300px;
        height: 300px;
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        margin: 100px auto;
    }
</style>

<body>
    <div id="zhuce">
        <h2>用户注册</h2>
        <div>
            用户名:
            <input type="text" id="username">
        </div>
        <div> 密码：
            <input type="password" id="password">
        </div>
        <div> 确认密码:
            <input type="password" id="queren">
        </div>
        <div>
            <button type="submit" id="new" class="btn">注册</button>
        </div>
    </div>
    <script src="jquery.min.js"></script>
    <script>
        $("#new").click(function () {
            let zhanghu = $("#username").val();
            let mima = $("#password").val();
            // console.log(`username=${$("#username").val()}&password=123456`)
            let http = new XMLHttpRequest()
            http.open("get", `http://127.0.0.1:8080/addUser?username=${$("#username").val()}&password=${$("#password").val()}`)
            http.send()
            http.onreadystatechange = function () {
                if (http.readyState === 4) {
                    if (http.responseText === "success") {
                        alert("注册成功，点击去登录");
                        location.href = "http://10.35.161.15/day28/up.html";
                    }
                    else { 
                        alert("注册失败");
                    }
                }
            }
        }) 
    </script>
</body>

</html>